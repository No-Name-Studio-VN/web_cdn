(()=>{var e=document.getElementById("changelayout_row"),t=document.getElementById("changelayout_box");let o=document.querySelectorAll("#guildlist > div");function l(e){var t=o.length,l="row"===e?"remove":"add",n=["col-sm-6","col-xxl-4"];for(let e=0;e<t;e++)o[e].classList[l](...n)}e.addEventListener("click",()=>l("row")),t.addEventListener("click",()=>l("box"));let n=$("#filterlist li a");e=document.getElementById("resetfilter");function r(e,l=!0){return e.sort((e,t)=>"none"===e.style.display?1:"none"===t.style.display?-1:(e=e.querySelector(".memcount"),t=t.querySelector(".memcount"),e&&t?(e=parseInt(e.textContent),t=parseInt(t.textContent),l?e-t:t-e):0))}function a(e,t){e.forEach(e=>e.style.display=t)}function c(e,l){e.each((e,t)=>{$(t).on("click",function(e){$(this).parent().toggleClass("active");let t;switch($(this).attr("href").replace("#","")){case"administrable":t=Array.from(l).filter(e=>"none"!==e.style.display&&!!(e=e.querySelector("a"))&&"Manage"===e.textContent);break;case"mem:hightolow":t=r(Array.from(l),!1);break;case"mem:lowtohigh":t=r(Array.from(l))}a(l,"none"),t&&a(t,"block")})})}let i=document.querySelectorAll("#guildlist > div");n&&c(n,i),e.addEventListener("click",()=>{a(i,"block"),n&&n.each((e,t)=>{$(t).on("click",function(e){$(this).parent().removeClass("active")})}),window.UrlHandler.removeHash()}),window.addEventListener("DOMContentLoaded",()=>{var e=window.UrlHandler.getHash(),e=document.querySelector(`#filterlist li a[href="${e}"]`);e&&e.click()})})();