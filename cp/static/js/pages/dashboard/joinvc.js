(async()=>{const n=$(".channel_select");var e=window.location.pathname.split("/")[2];await window.DiscordAPIHandler.getChannels(e,{channelType:"GuildVoice"}).then(e=>{e=e.map(e=>({id:e.id,text:e.name,value:e.id}));n.append('<option value="0" selected disabled>None</option>'),e.forEach(e=>{n.append(new Option(e.text,e.value))})}).catch(e=>{window.NotificationHandler.show({content:"An error occured while fetching the channels.",type:"danger"})}),$.ajax({url:`/dashboard/${e}/${window.location.pathname.split("/")[3]}/data`,method:"GET",contentType:"application/json",success:e=>{e=e.data;e&&(e.channelId&&$("#channelId").val(e.channelId),$("#enabled").prop("checked",e.enabled).trigger("change"),$("#editable").prop("checked",e.editable).trigger("change")),FormHandler.InitializeFormWatcher(),ContentHandler.toggleMainContent("#vc_form",!0)},error:e=>{window.NotificationHandler.show({content:"An error occured while fetching the settings.",type:"danger"})}})})();