(async()=>{const n=["message_events","member_events","role_events","channel_events","emoji_events","voice_events","server_events"],t=$(".channel_select");var e=window.location.pathname.split("/")[2];await window.DiscordAPIHandler.getChannels(e,{channelType:"GuildText"}).then(e=>{e=e.map(e=>({id:e.id,text:e.name,value:e.id}));t.append('<option value="0" selected disabled>None</option>'),e.forEach(e=>{t.append(new Option(e.text,e.value))})}).catch(e=>{window.NotificationHandler.show({content:"An error occured while fetching the text channels.",type:"danger"})}),$.ajax({url:`/dashboard/${e}/${window.location.pathname.split("/")[3]}/data`,method:"GET",contentType:"application/json",success:async e=>{const t=e.data;await n.forEach(n=>{Object.keys(t[n]).forEach(e=>{"channel"==e?$(`#${n}_logchannel`).val(t[n][e]).trigger("change"):"toggle"==e?$(`#${n}_toggle`).prop("checked",t[n][e]):"color"==e?$(`#${n}_color`).val(t[n][e]):$(`#${n}_`+e).prop("checked",t[n][e])})}),FormHandler.InitializeFormWatcher(),ContentHandler.toggleMainContent("#logging_form",!0)},error:e=>{window.NotificationHandler.show({content:"An error occured while fetching the logging settings.",type:"danger"})}})})();