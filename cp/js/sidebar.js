$(function(){var e=window.location;const s=e.pathname;var a="full",t="mini-sidebar",i=localStorage.getItem("sidebartype")||a,r=(localStorage.setItem("sidebartype",i),$("#main-wrapper"));r.attr("data-sidebartype",i),r.after($("<div>",{class:"dark-transparent sidebartoggler"})),i===a?r.removeClass(t):i===t&&r.addClass(t),$("#main-wrapper").AdminSettings({ThemeBg:"purple_theme",SidebarType:t}),$("#droph").one("click",function(){const t=$("#guildselector");t.length&&$.ajax({url:"/api/guilds",method:"GET",contentType:"application/json",success:function(e){var e=e.data.filter(e=>DiscordAPIHandler.parsePermissions(e.permissions).includes("ManageGuild")).map(e=>{var{name:e,id:a,iconURL:t}=e,i=s.split("/"),i=s.replace(i[2],a);return $("<li>").append($("<a>",{class:"py-3 px-3 d-flex align-items-center dropdown-item rounded-3",href:i,"data-bs-toggle":"tooltip","data-bs-placement":"right","data-bs-title":e}).append($("<span>",{class:"me-3"}).append($("<img>",{class:"rounded-circle",src:t,alt:e,width:"35",height:"35",loading:"lazy"})),$("<div>",{class:"w-75 d-inline-block v-middle hide-menu"}).append($("<h6>",{class:"mb-1 fw-semibold text-wrap",text:e}))))[0].outerHTML}).join(""),a=t.find(".simplebar-content");(a.length?a:t).append(e),$("#guildselector_preloader").remove()},error:function(e,a,t){logger.error(t)}})});const n=e+"",d=n.replace(e.protocol+"//"+e.host+"/","");a=$("ul#sidebarnav"),r=a.find("a").filter((e,a)=>a.pathname===s||a.href===n||a.href===d);r.parentsUntil(".sidebar-nav").each(()=>{var e=$(this),a=e.children("a");e.is("li")&&0!==a.length?(a.addClass("active"),0===e.parent("ul#sidebarnav").length?e.addClass("active"):e.addClass("selected")):e.is("ul")||0!==a.length?e.is("ul")&&e.addClass("in"):e.addClass("selected")}),r.addClass("active"),a.find("a").on("click",function(e){var a=$(this),t=a.parents("ul:first");a.hasClass("active")?(a.removeClass("active"),t.removeClass("active"),a.next("ul").removeClass("in")):(t.find("ul").removeClass("in"),t.find("a").removeClass("active"),a.next("ul").addClass("in"),a.addClass("active"))}),logger.ready("Sidebar initialized with type:",i)}),$.fn.AdminSettings=function(e){const n="full",d="mini-sidebar",t="fixed",i="absolute",s=this.attr("id");const r=$.extend({},{Theme:!0,SidebarPosition:!1,HeaderPosition:!0,BoxedLayout:!1,ThemeBg:"aqua_theme"},e),a={AdminSettingsInit:function(){a.ManageSidebarType(),a.ManageSidebarPosition()},ManageSidebarType:function(){function e(){(0<window.innerWidth?window.innerWidth:this.screen.width)<1170&&(localStorage.setItem("sidebartype",d),$("#main-wrapper").attr("data-sidebartype",d),$("#main-wrapper").addClass(d))}e(),$(window).on("resize",e);const a=$("#main-wrapper"),t=$(".sidebartoggler");var i=$(".fullsidebar");const s=$(".sidebartoggler i"),r=$(".fullsidebar i");t.on("click",function(){a.toggleClass(d),a.hasClass(d)?(t.prop("checked",!0),a.attr("data-sidebartype",d),localStorage.setItem("sidebartype",d)):(t.prop("checked",!1),a.attr("data-sidebartype",n),localStorage.setItem("sidebartype",n))}),t.on("click",function(){a.toggleClass("show-sidebar"),s.toggleClass("text-primary"),r.addClass("text-dark-emphasis")}),i.on("click",function(){localStorage.setItem("sidebartype",n),a.attr("data-sidebartype",n),r.removeClass("text-dark-emphasis").addClass("text-primary"),s.removeClass("text-primary")})},ManageSidebarPosition:function(){var e=r.SidebarPosition,a=r.HeaderPosition;switch(r.Layout){case"vertical":case"horizontal":!0===e?$("#"+s).attr("data-sidebar-position",t):$("#"+s).attr("data-sidebar-position",i),!0===a?$("#"+s).attr("data-header-position",t):$("#"+s).attr("data-header-position","relative")}}};a.AdminSettingsInit()};