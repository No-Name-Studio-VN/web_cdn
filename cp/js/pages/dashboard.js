(()=>{var e=document.getElementById("changelayout_row"),t=document.getElementById("changelayout_box");const o=document.querySelectorAll("#guildlist > div");function n(e){var t=o.length,n="row"===e?"remove":"add",r=["col-sm-6","col-xxl-4"];for(let e=0;e<t;e++)o[e].classList[n](...r)}e.addEventListener("click",()=>n("row")),t.addEventListener("click",()=>n("box"));const r=$("#filterlist li a");e=document.getElementById("resetfilter");function l(e,n=!0){return e.sort((e,t)=>{return"none"===e.style.display?1:"none"===t.style.display?-1:(e=e.querySelector(".memcount"),t=t.querySelector(".memcount"),e&&t?(e=parseInt(e.textContent),t=parseInt(t.textContent),n?e-t:t-e):0)})}function c(e,t){e.forEach(e=>e.style.display=t)}function a(e,n){e.each((e,t)=>{$(t).on("click",function(e){$(this).parent().toggleClass("active");let t;switch($(this).attr("href").replace("#","")){case"administrable":t=Array.from(n).filter(e=>{return"none"!==e.style.display&&!!(e=e.querySelector("a"))&&"Manage"===e.textContent});break;case"mem:hightolow":t=l(Array.from(n),!1);break;case"mem:lowtohigh":t=l(Array.from(n))}c(n,"none"),t&&c(t,"block")})})}const i=document.querySelectorAll("#guildlist > div");r&&a(r,i),e.addEventListener("click",()=>{c(i,"block"),r&&r.each((e,t)=>{$(t).on("click",function(e){$(this).parent().removeClass("active")})}),window.urlHandler.removeHash()}),window.addEventListener("DOMContentLoaded",()=>{var e=window.urlHandler.getHash(),e=document.querySelector(`#filterlist li a[href="${e}"]`);e&&e.click()})})();